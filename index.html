<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Guild Housing Map</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="grid-overlay.css" />
</head>
<body>
  <div class="container">

    <!-- Left Sidebar -->
    <aside class="sidebar-left">
      <h3>Legend</h3>
      <div class="legend-item">
        <div class="legend-color available"></div><span>Available</span>
      </div>
      <div class="legend-item">
        <div class="legend-color requested"></div><span>Requested</span>
      </div>
      <div class="legend-item">
        <div class="legend-color assigned"></div><span>Assigned</span>
      </div>

      <hr />

      <h3>Request a Plot</h3>
      <form id="requestForm">
        <label for="characterName">Character Name:</label>
        <input type="text" id="characterName" name="characterName" required />

        <label for="plotSelect">Select up to 4 plots:</label>
        <select id="plotSelect" name="plotSelect" multiple size="6">
          <!-- Options will be added dynamically -->
        </select>
        <small style="color: #ccc;">Hold Ctrl (Windows) or Cmd (Mac) to select multiple plots</small>

        <button type="submit">Submit Request</button>
      </form>
    </aside>

    <!-- Map Area -->
    <main class="map-container">
      <div class="map-background" id="mapBackground">
        <!-- House plots will be dynamically positioned here -->
      </div>
    </main>

    <!-- Right Sidebar -->
    <aside class="sidebar-right">
      <h3>Search Plot</h3>
      <input type="number" id="searchPlotNumber" placeholder="Enter plot number" />
      <button id="searchButton">Search</button>
      <div id="searchResult"></div>

      <hr />

     <h3>Moderator Login</h3>
<input type="password" id="horizonblue" placeholder="Enter moderator code" />
<button id="loginButton">Login</button>

<div id="moderatorPanel" style="display: none;">
  <h4>Assignment Panel</h4>
  <div id="requestList">
    <!-- Requests will be listed here -->
  </div>
</div>

    </aside>

  </div>

  <!-- Scripts -->
  <script src="housingData.js"></script>
  <script src="grid-overlay.js"></script>
  <script src="map.js"></script>
  <script src="requests.js"></script>
  <script src="search.js"></script>
  <script src="moderator.js"></script>
  
<div id="requestPopup" class="popup-overlay" style="display: none;">
  <div class="popup-box">
    <h3>Request Submitted</h3>
    <p>
      Thanks for submitting your plot choices!<br />
      A moderator will review your request and assign one of your selected plots soon.<br />
      If multiple members request the same plot, weâ€™ll reach out to help find a fair solution together.
    </p>
    <p id="selectedPlotsMessage" style="margin-top: 10px;"></p>
    <button onclick="closePopup()">Close</button>
  </div>
</div>


</body>
</html>
